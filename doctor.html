<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title> Dashboard | BHealth Buddy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Hospital Appointment System" name="description" />
    <meta content="BHealth Buddy" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico">
    <!-- Datatables -->
<link rel="stylesheet" src="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css">
<link rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
<link rel="stylesheet" src="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap4.min.css">
<style type="text/css">
    #doctorList_length label {
        display: inline-flex;
        align-items: center;
        gap: 04px;
    }

</style>
 <!-- App css -->
 <link href="/assets/css/bootstrap.min.css" id="bootstrap-light" rel="stylesheet" type="text/css"/>
 <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css"/>
 <link href="/assets/css/app.min.css" rel="stylesheet" type="text/css"/>
 <link rel="stylesheet" type="text/css" href="/assets/libs/toastr/toastr.min.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

</head>


<body data-topbar="dark" data-layout="horizontal">
    
<!-- Loader -->
<div id="preloader">
    <div id="status">
        <div class="spinner-chase">
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
        </div>
    </div>
</div>
<!-- Begin page -->
<div id="layout-wrapper">

    <div class="topnav">
        <div class="container-fluid">
            <nav class="navbar navbar-light navbar-expand-lg topnav-menu">
                <a href="/index.html" class="logo logo-light">
                    <span class="logo-lg">
                        <img src="/assets/images/logo-light.png" alt="" height="42">
                    </span>
                </a>
                <button type="button" class="btn btn-sm px-3 font-size-16 d-lg-none header-item waves-effect waves-light collapsed" data-toggle="collapse" data-target="#topnav-menu-content" aria-expanded="false">
                    <i class="fa fa-fw fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="topnav-menu-content">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">
                                <i class="bx bx-home-circle mr-2"></i>Dashboard
                            </a>
                        </li>
                                                <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-layout" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="bx bx-user-circle mr-2"></i>Doctors <div class="arrow-down">
                                    </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="topnav-layout">
                                    <a href="#" class="dropdown-item">List of Doctors</a>
                                    <a href="/doctor/create.html"
                                        class="dropdown-item">Add New Doctor</a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-layout" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="bx bx-user-circle mr-2"></i>Patients <div
                                        class="arrow-down"></div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="topnav-layout">
                                    <a href="#"
                                        class="dropdown-item">List of Patients</a>
                                    <a href="#"
                                        class="dropdown-item">Add New Patient</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/today-appointment.html">
                                    <i class='bx bx-list-plus mr-2'></i>Appointment List
                                </a>
                            </li>
                                        </ul>
                </div>
            </nav>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
        <div class="page-content">
            <!-- Start content -->
            <div class="container-fluid">
                    <!-- start page title -->
    <!-- start page title -->
<div class="row">
    <div class="col-12">
        <div class="page-title-box d-flex align-items-center justify-content-between">
            <h4 class="mb-0 font-size-18">Doctor List</h4>
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                                        <li class="breadcrumb-item">Doctors</li>
                                                        </ol>
            </div>
        </div>
    </div>
</div>
<!-- end page title -->
    <!-- end page title -->
    <div class="row">
        <div class="col-12">
            <div></div>
            <div class="card">
                <div class="card-body">
                                        <a href="/doctor/create.html">
                        <button type="button" class="btn btn-primary waves-effect waves-light mb-4">
                            <i class="bx bx-plus font-size-16 align-middle mr-2"></i> New Doctor
                        </button>
                    </a>
                                        <table id="doctorList" class="table table-bordered dt-responsive nowrap " style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                        <thead>
                            <tr>
                                <th>Sr. No</th>
                                <th>Title</th>
                                <th>Name</th>
                                <th>Contact No</th>
                                <th>Email</th>
                                                                <th>Pending Appointment</th>
                                <th>Complete Appointment</th>
                                                                                                <th>Option</th>
                                                            </tr>
                        </thead>
                        <tbody>
                            <!-- load data using yajra datatables -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div> <!-- end col -->
    </div> <!-- end row -->
                </div> <!-- content -->
        </div>
        <footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6">
                2023 Â© BHealth Buddy
            </div>
            <div class="col-sm-6">
                <div class="text-sm-right d-none d-sm-block">
                    Design &amp; Developed by WareX
                </div>
            </div>
        </div>
    </div>
</footer>
    </div>
    <!-- ============================================================== -->
    <!-- End Right content here -->
    <!-- ============================================================== -->
</div>
<!-- END wrapper -->


<!-- JAVASCRIPT -->

<script src="/assets/libs/jquery/jquery.min.js"></script>
<script src="/assets/libs/bootstrap/bootstrap.min.js"></script>
<script src="/assets/libs/metismenu/metismenu.min.js"></script>
<script src="/assets/libs/simplebar/simplebar.min.js"></script>
<script src="/assets/libs/toastr/toastr.min.js"></script>


            <!-- Plugins js -->
    <script src="/assets/libs/jszip/jszip.min.js"></script>
    <script src="/assets/libs/pdfmake/pdfmake.min.js"></script>

    <!-- Datatables -->
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap4.min.js"></script>
    <!-- Init js-->
    <script src="/assets/js/pages/notification.init.js"></script>
    <script>
        //load datatable 
        $(document).ready(function() {
            var role = 'admin';
            $('#doctorList').DataTable({
                processing: true
                , serverSide: true
                , ajax: "/doctor-726728593974.html"
                , columns: [{
                        data: 'DT_RowIndex'
                        , name: 'DT_RowIndex'
                        , orderable: false
                        , searchable: false
                    }
                    , {
                        data: 'doctor.title'
                        , name: 'title'
                        , sortable: false
                        , visible: true
                    }
                    , {
                        data: 'name'
                        , name: 'name'
                        , sortable: false
                        , visible: true
                    }
                    , {
                        data: 'mobile'
                        , name: 'mobile'
                    }
                    , {
                        data: 'email'
                        , name: 'email'
                    }
                    , {
                        data: 'pending_appointment'
                        , name: 'pending_appointment'
                        , orderable: false
                        , searchable: false
                        , visible: (role != 'patient') ? true : false
                    }
                    , {
                        data: 'completed_appointment'
                        , name: 'completed_appointment'
                        , orderable: false
                        , searchable: false
                        , visible: (role != 'patient') ? true : false
                    }
                    , {
                        data: 'option'
                        , name: 'option'
                        , orderable: false
                        , searchable: false
                        , visible: (role != 'patient') ? true : false
                    }
                , ]
                , pagingType: 'full_numbers'
                , "drawCallback": function() {
                    $('.dataTables_paginate > .pagination').addClass('justify-content-end');
                    $('.dataTables_filter').addClass('d-flex justify-content-end');
                }
            });
        });

        // delete Doctor
        $(document).on('click', '#delete-doctor', function() {
            var id = $(this).data('id');
            if (confirm('Are you sure want to delete doctor?')) {
                $.ajax({
                    type: "DELETE"
                    , url: 'doctor/' + id
                    , data: {
                        _token: '8zUyNjjCLIbkkNzdpjMy7r8GAVf243vtAKldTZIp'
                        , id: id
                    , }
                    , beforeSend: function() {
                        $('#pageloader').show()
                    }
                    , success: function(response) {
                        toastr.success(response.message, 'Success Alert', {
                            timeOut: 2000
                        });
                        location.reload();
                    }
                    , error: function(response) {
                        toastr.error(response.responseJSON.message, {
                            timeOut: 20000
                        });
                    }
                    , complete: function() {
                        $('#pageloader').hide();
                    }
                });
            }
        });

    </script>
            <!-- App js -->
        <script src="/assets/js/app.min.js"></script>

        </body>

</html>
